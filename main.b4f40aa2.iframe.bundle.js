(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./ sync recursive ^\\.[\\\\/](?:(stories|src)(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.stories\\.(ts|tsx|js|jsx))$":function(module,exports,__webpack_require__){var map={"./stories/useViewModel.stories.tsx":"./stories/useViewModel.stories.tsx","./stories/useViewModelFactory.stories.tsx":"./stories/useViewModelFactory.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./ sync recursive ^\\.[\\\\/](?:(stories|src)(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.stories\\.(ts|tsx|js|jsx))$"},"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on.*"},docs:{source:{state:"open"}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./ sync recursive ^\\.[\\\\/](?:(stories|src)(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.stories\\.(ts|tsx|js|jsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./src/useViewModel.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useViewModel})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useViewModelFactory}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react/index.js"),mobx__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/mobx/dist/mobx.esm.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useViewModelInternal(viewModel,props){Object(react__WEBPACK_IMPORTED_MODULE_11__.useEffect)((function(){props&&!mobx__WEBPACK_IMPORTED_MODULE_12__.g.shallow(props,viewModel.props)&&Object(mobx__WEBPACK_IMPORTED_MODULE_12__.r)((function(){viewModel.props=props}))}),[viewModel,props]),Object(react__WEBPACK_IMPORTED_MODULE_11__.useEffect)((function(){var _viewModel$init;return null===(_viewModel$init=viewModel.init)||void 0===_viewModel$init||_viewModel$init.call(viewModel),function(){var _viewModel$dispose;return null===(_viewModel$dispose=viewModel.dispose)||void 0===_viewModel$dispose?void 0:_viewModel$dispose.call(viewModel)}}),[viewModel])}function useViewModel(viewModelClass,props){var viewModel=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)((function(){return props?new viewModelClass(props):new viewModelClass})),1)[0];return useViewModelInternal(viewModel,props),viewModel}function useViewModelFactory(factory,props){var viewModel=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)((function(){return factory(props)})),1)[0];return useViewModelInternal(viewModel,props),viewModel}},"./stories/useViewModel.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simplest",(function(){return useViewModel_stories_Simplest})),__webpack_require__.d(__webpack_exports__,"WithLifecycleMethods",(function(){return WithLifecycleMethods})),__webpack_require__.d(__webpack_exports__,"WithBaseViewModelExtends",(function(){return WithBaseViewModelExtends})),__webpack_require__.d(__webpack_exports__,"WithReactiveProps",(function(){return useViewModel_stories_WithReactiveProps}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var _dec,_class,_descriptor,react=__webpack_require__("./node_modules/react/index.js"),mobx_esm=__webpack_require__("./node_modules/mobx/dist/mobx.esm.js"),mobxreact_esm=__webpack_require__("./node_modules/mobx-react/dist/mobxreact.esm.js"),useViewModel=__webpack_require__("./src/useViewModel.ts");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var useViewModel_stories_class,useViewModel_stories_descriptor,_class3,_descriptor2,_class5,useViewModel_stories_dec,_class6,_descriptor3,_descriptor4,_descriptor5,viewModel_ViewModel=(_dec=mobx_esm.p.ref,_descriptor=function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((_class=function(){function ViewModel(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ViewModel),function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}(this,"props",_descriptor,this),this.disposers=[],this.props=props,Object(mobx_esm.o)(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ViewModel,[{key:"dispose",value:function dispose(){this.disposers.forEach((function(dispose){return dispose()}))}}]),ViewModel}()).prototype,"props",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_class),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function useViewModel_stories_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function useViewModel_stories_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function useViewModel_stories_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function useViewModel_stories_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function useViewModel_stories_createClass(Constructor,protoProps,staticProps){return protoProps&&useViewModel_stories_defineProperties(Constructor.prototype,protoProps),staticProps&&useViewModel_stories_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function useViewModel_stories_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"useViewModel",parameters:{storySource:{source:"import React, { useState } from 'react';\nimport { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { observer } from 'mobx-react';\n\nimport { IViewModel } from '../src/typings';\nimport { useViewModel } from '../src/useViewModel';\nimport { ViewModel } from '../src/viewModel';\nimport { BaseAnnotations } from '@storybook/addons';\n\nexport default {\n  title: 'useViewModel',\n  parameters: {\n    docs: {\n      page: null,\n      description: {\n        component: 'Base hook for creating stateful view-model instance',\n      },\n    },\n  },\n};\n/// HOC\n\nfunction LifecycleToggleHOC<T>(\n  Cmp: React.FunctionComponent<T>\n): React.FunctionComponent & BaseAnnotations<unknown, unknown> {\n  return ((props: T) => {\n    const [mount, setMount] = useState(true);\n\n    return (\n      <>\n        <div\n          style={{\n            position: 'absolute',\n            width: '100%',\n            left: 0,\n            top: '8px',\n            padding: '10px 20px',\n            background: '#eee',\n          }}\n        >\n          <label htmlFor=\"mount1\">\n            Mount:\n            <input\n              id=\"mount1\"\n              type=\"checkbox\"\n              checked={mount}\n              onChange={() => setMount(v => !v)}\n            />\n          </label>{' '}\n          (check the Console tab in devtools)\n        </div>\n        <br />\n        <br />\n        {mount && <Cmp {...(props as any)} />}\n      </>\n    );\n  }) as React.FunctionComponent & BaseAnnotations<unknown, unknown>;\n}\n\n/// ------------------------------------------\n// Example of a simple view-model without props and life-cycle methods\n//\nclass SimplestViewModel {\n  @observable\n  title: string = '';\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  @action\n  setTitle(title: string) {\n    this.title = title;\n  }\n}\n\nconst SimplestExample = observer(() => {\n  const viewModel = useViewModel(SimplestViewModel);\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={viewModel.title}\n        onChange={e => viewModel.setTitle(e.target.value)}\n        placeholder=\"Type title...\"\n      />\n      <p>Title: {viewModel.title}</p>\n    </div>\n  );\n});\n\nexport const Simplest = () => {\n  return <SimplestExample />;\n};\nSimplest.parameters = {\n  controls: { expanded: true },\n  docs: {\n    page: null,\n    source: {\n      code: `\nclass SimplestViewModel {\n  @observable\n  title: string = '';\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  @action\n  setTitle(title: string) {\n    this.title = title;\n  }\n}\n\nconst SimplestExample = observer(() => {\n  const viewModel = useViewModel(SimplestViewModel);\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={viewModel.title}\n        onChange={e => viewModel.setTitle(e.target.value)}\n        placeholder=\"Type title...\"\n      />\n      <p>Title: {viewModel.title}</p>\n    </div>\n  );\n});\n      `,\n      language: 'jsx',\n      type: 'auto',\n    },\n  },\n};\n\n/// ------------------------------------------\n// Example of view-model with init() and dispose() life-cycle methods\n//\nclass DisposableViewModel implements IViewModel {\n  @observable\n  title: string = '';\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  init() {\n    console.log('DisposableViewModel: do something on view mount');\n  }\n\n  @action\n  setTitle(title: string) {\n    this.title = title;\n  }\n\n  dispose() {\n    console.log('DisposableViewModel: do something after view destroy');\n  }\n}\n\nconst WithLifecycleMethodsExample = observer(() => {\n  const viewModel = useViewModel(DisposableViewModel);\n\n  return (\n    <>\n      <input\n        value={viewModel.title}\n        onChange={e => viewModel.setTitle(e.target.value)}\n        placeholder=\"Type title...\"\n      />\n      <p>Title: {viewModel.title}</p>\n    </>\n  );\n});\n\nexport const WithLifecycleMethods = LifecycleToggleHOC(\n  WithLifecycleMethodsExample\n);\nWithLifecycleMethods.parameters = {\n  docs: {\n    source: {\n      code: `\nclass DisposableViewModel implements IViewModel {\n  @observable\n  title: string = '';\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  init() {\n    console.log('DisposableViewModel: do something on view mount');\n  }\n\n  @action\n  setTitle(title: string) {\n    this.title = title;\n  }\n\n  dispose() {\n    console.log('DisposableViewModel: do something after view destroy');\n  }\n}\n\nconst WithLifecycleMethodsExample = observer(() => {\n  const viewModel = useViewModel(DisposableViewModel);\n\n  return (\n    <>\n      <input\n        value={viewModel.title}\n        onChange={e => viewModel.setTitle(e.target.value)}\n        placeholder=\"Type title...\"\n      />\n      <p>Title: {viewModel.title}</p>\n    </>\n  );\n});\n      `,\n      language: 'jsx',\n      type: 'auto',\n    },\n  },\n};\n\n/// ------------------------------------------\n// Example of view-model extends base ViewModel class\n//\ninterface ExtendsBaseViewModelProps {\n  firstName: string;\n  lastName: string;\n}\nclass ExtendsBaseViewModel extends ViewModel<ExtendsBaseViewModelProps> {\n  constructor(props: ExtendsBaseViewModelProps) {\n    super(props);\n\n    this.disposers.push(\n      () => {\n        console.log('ExtendsBaseViewModel disposer 1');\n      },\n      () => {\n        console.log('ExtendsBaseViewModel disposer 2');\n      }\n    );\n  }\n\n  init() {\n    console.log('ExtendsBaseViewModel: init');\n  }\n\n  @computed\n  get name() {\n    if (this.props.firstName) {\n      return `${this.props.firstName[0]}. ${this.props.lastName}`;\n    } else {\n      return this.props.lastName;\n    }\n  }\n}\n\nconst ExtendsBaseViewModelExampleComponent = observer(\n  (props: ExtendsBaseViewModelProps) => {\n    const viewModel = useViewModel(ExtendsBaseViewModel, props);\n\n    return (\n      <div>\n        <p>Hello, {viewModel.name}!</p>\n      </div>\n    );\n  }\n);\n\nexport const WithBaseViewModelExtends = LifecycleToggleHOC(\n  ExtendsBaseViewModelExampleComponent\n);\nWithBaseViewModelExtends.args = {\n  firstName: 'John',\n  lastName: 'Gold',\n};\nWithBaseViewModelExtends.parameters = {\n  docs: {\n    source: {\n      code: `\ninterface ExtendsBaseViewModelProps {\n  firstName: string;\n  lastName: string;\n}\nclass ExtendsBaseViewModel extends ViewModel<ExtendsBaseViewModelProps> {\n  constructor(props: ExtendsBaseViewModelProps) {\n    super(props);\n\n    this.disposers.push(\n      () => {\n        console.log('ExtendsBaseViewModel disposer 1');\n      },\n      () => {\n        console.log('ExtendsBaseViewModel disposer 2');\n      }\n    );\n  }\n\n  init() {\n    console.log('ExtendsBaseViewModel: init');\n  }\n\n  @computed\n  get name() {\n    if (this.props.firstName) {\n      return \\`\\${this.props.firstName[0]}. \\${this.props.lastName}\\`;\n    } else {\n      return this.props.lastName;\n    }\n  }\n}\n\nconst ExtendsBaseViewModelExampleComponent = observer(\n  (props: ExtendsBaseViewModelProps) => {\n    const viewModel = useViewModel(ExtendsBaseViewModel, props);\n\n    return (\n      <div>\n        <p>Hello, {viewModel.name}!</p>\n      </div>\n    );\n  }\n);\n      `,\n      language: 'jsx',\n      type: 'auto',\n    },\n  },\n};\n\n/// ------------------------------------------\n// Example of view-модели with dispose() and reactive-props\n//\ntype DeliveryMethod = 'pickup' | 'delivery';\n\ninterface ExampleComponentProps {\n  productName: string;\n  deliveryMethod: DeliveryMethod;\n}\n\nclass AdvancedViewModel implements IViewModel<ExampleComponentProps> {\n  @observable.ref\n  props: ExampleComponentProps;\n\n  @observable\n  productPrice: number = 10000;\n\n  @observable\n  deliveryPrice: number = 300;\n\n  private disposers: (() => void)[] = [];\n\n  constructor(props: ExampleComponentProps) {\n    this.props = props;\n    makeObservable(this);\n\n    this.disposers.push(\n      reaction(\n        () => this.totalPrice,\n        totalPrice => console.log(`totalPriceChanged: ${totalPrice}`)\n      )\n    );\n  }\n\n  @computed\n  get productName() {\n    return this.props.productName;\n  }\n\n  @computed\n  get deliveryMethod() {\n    return this.props.deliveryMethod;\n  }\n\n  @computed\n  get totalPrice() {\n    return this.deliveryMethod === 'delivery'\n      ? this.productPrice + this.deliveryPrice\n      : this.productPrice;\n  }\n\n  @action\n  setProductPrice(value: number) {\n    this.productPrice = value;\n  }\n\n  @action\n  setdDeliveryPrice(value: number) {\n    this.deliveryPrice = value;\n  }\n\n  dispose() {\n    console.log('AdvancedViewModel: dispose');\n    this.disposers.forEach(disposer => disposer());\n  }\n}\n\nconst ReactivePropsExampleComponent = observer(\n  (props: ExampleComponentProps) => {\n    const viewModel = useViewModel(AdvancedViewModel, props);\n\n    return (\n      <div>\n        <p>Name: {props.productName}</p>\n        <p>\n          Price:\n          <input\n            type=\"number\"\n            value={viewModel.productPrice}\n            onChange={e => viewModel.setProductPrice(Number(e.target.value))}\n          />\n        </p>\n\n        {viewModel.deliveryMethod === 'delivery' ? (\n          <p>\n            Delivery Price:\n            <input\n              type=\"number\"\n              value={viewModel.deliveryPrice}\n              onChange={e =>\n                viewModel.setdDeliveryPrice(Number(e.target.value))\n              }\n            />\n          </p>\n        ) : null}\n\n        <p>Total Price: {viewModel.totalPrice}</p>\n      </div>\n    );\n  }\n);\n\nexport const WithReactiveProps = () => {\n  const [deliveryMethod, setDeliveryMethod] = useState<DeliveryMethod>(\n    'pickup'\n  );\n\n  return (\n    <>\n      <p>\n        Delivery Method:\n        <label htmlFor=\"pickup\">\n          <input\n            name=\"delivery_method\"\n            id=\"pickup\"\n            type=\"radio\"\n            value=\"pickup\"\n            checked={deliveryMethod === 'pickup'}\n            onChange={() => setDeliveryMethod('pickup')}\n          />{' '}\n          Pickup\n        </label>\n        <label htmlFor=\"delivery\">\n          <input\n            id=\"delivery\"\n            name=\"delivery_method\"\n            type=\"radio\"\n            value=\"delivery\"\n            checked={deliveryMethod === 'delivery'}\n            onChange={() => setDeliveryMethod('delivery')}\n          />\n          Delivery\n        </label>\n      </p>\n\n      <ReactivePropsExampleComponent\n        productName=\"MacBook Pro\"\n        deliveryMethod={deliveryMethod}\n      />\n    </>\n  );\n};\n\nWithReactiveProps.parameters = {\n  docs: {\n    source: {\n      code: `\ntype DeliveryMethod = 'pickup' | 'delivery';\n\ninterface ExampleComponentProps {\n  productName: string;\n  deliveryMethod: DeliveryMethod;\n}\n\nclass AdvancedViewModel implements IViewModel<ExampleComponentProps> {\n  @observable.ref\n  props: ExampleComponentProps;\n\n  @observable\n  productPrice: number = 10000;\n\n  @observable\n  deliveryPrice: number = 300;\n\n  private disposers: (() => void)[] = [];\n\n  constructor(props: ExampleComponentProps) {\n    this.props = props;\n    makeObservable(this);\n\n    this.disposers.push(\n      reaction(\n        () => this.totalPrice,\n        totalPrice => console.log(\\`totalPriceChanged: \\${totalPrice}\\`)\n      )\n    );\n  }\n\n  @computed\n  get productName() {\n    return this.props.productName;\n  }\n\n  @computed\n  get deliveryMethod() {\n    return this.props.deliveryMethod;\n  }\n\n  @computed\n  get totalPrice() {\n    return this.deliveryMethod === 'delivery'\n      ? this.productPrice + this.deliveryPrice\n      : this.productPrice;\n  }\n\n  @action\n  setProductPrice(value: number) {\n    this.productPrice = value;\n  }\n\n  @action\n  setdDeliveryPrice(value: number) {\n    this.deliveryPrice = value;\n  }\n\n  dispose() {\n    console.log('AdvancedViewModel: dispose');\n    this.disposers.forEach(disposer => disposer());\n  }\n}\n\nconst ReactivePropsExampleComponent = observer(\n  (props: ExampleComponentProps) => {\n    const viewModel = useViewModel(AdvancedViewModel, props);\n\n    return (\n      <div>\n        <p>Name: {props.productName}</p>\n        <p>\n          Price:\n          <input\n            type=\"number\"\n            value={viewModel.productPrice}\n            onChange={e => viewModel.setProductPrice(Number(e.target.value))}\n          />\n        </p>\n\n        {viewModel.deliveryMethod === 'delivery' ? (\n          <p>\n            Delivery Price:\n            <input\n              type=\"number\"\n              value={viewModel.deliveryPrice}\n              onChange={e =>\n                viewModel.setdDeliveryPrice(Number(e.target.value))\n              }\n            />\n          </p>\n        ) : null}\n\n        <p>Total Price: {viewModel.totalPrice}</p>\n      </div>\n    );\n  }\n);\n\nexport const WithReactiveProps = () => {\n  const [deliveryMethod, setDeliveryMethod] = useState<DeliveryMethod>(\n    'pickup'\n  );\n\n  return (\n    <>\n      <p>\n        Delivery Method:\n        <label htmlFor=\"pickup\">\n          <input\n            name=\"delivery_method\"\n            id=\"pickup\"\n            type=\"radio\"\n            value=\"pickup\"\n            checked={deliveryMethod === 'pickup'}\n            onChange={() => setDeliveryMethod('pickup')}\n          />{' '}\n          Pickup\n        </label>\n        <label htmlFor=\"delivery\">\n          <input\n            id=\"delivery\"\n            name=\"delivery_method\"\n            type=\"radio\"\n            value=\"delivery\"\n            checked={deliveryMethod === 'delivery'}\n            onChange={() => setDeliveryMethod('delivery')}\n          />\n          Delivery\n        </label>\n      </p>\n\n      <ReactivePropsExampleComponent\n        productName=\"MacBook Pro\"\n        deliveryMethod={deliveryMethod}\n      />\n    </>\n  );\n};\n      `,\n      language: 'jsx',\n      type: 'auto',\n    },\n  },\n};\n",locationsMap:{simplest:{startLoc:{col:24,line:93},endLoc:{col:1,line:95},startBody:{col:24,line:93},endBody:{col:1,line:95}},"with-lifecycle-methods":{startLoc:{col:36,line:178},endLoc:{col:1,line:180},startBody:{col:36,line:178},endBody:{col:1,line:180}},"with-base-view-model-extends":{startLoc:{col:40,line:275},endLoc:{col:1,line:277},startBody:{col:40,line:275},endBody:{col:1,line:277}},"with-reactive-props":{startLoc:{col:33,line:438},endLoc:{col:1,line:477},startBody:{col:33,line:438},endBody:{col:1,line:477}}}},docs:{page:null,description:{component:"Base hook for creating stateful view-model instance"}}}};function LifecycleToggleHOC(Cmp){return function(props){var _useState2=_slicedToArray(Object(react.useState)(!0),2),mount=_useState2[0],setMount=_useState2[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("div",{style:{position:"absolute",width:"100%",left:0,top:"8px",padding:"10px 20px",background:"#eee"},children:[Object(jsx_runtime.jsxs)("label",{htmlFor:"mount1",children:["Mount:",Object(jsx_runtime.jsx)("input",{id:"mount1",type:"checkbox",checked:mount,onChange:function onChange(){return setMount((function(v){return!v}))}})]})," ","(check the Console tab in devtools)"]}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("br",{}),mount&&Object(jsx_runtime.jsx)(Cmp,Object.assign({},props))]})}}var useViewModel_stories_SimplestViewModel=(useViewModel_stories_descriptor=useViewModel_stories_applyDecoratedDescriptor((useViewModel_stories_class=function(){function SimplestViewModel(){useViewModel_stories_classCallCheck(this,SimplestViewModel),useViewModel_stories_initializerDefineProperty(this,"title",useViewModel_stories_descriptor,this),Object(mobx_esm.o)(this)}return useViewModel_stories_createClass(SimplestViewModel,[{key:"setTitle",value:function setTitle(title){this.title=title}}]),SimplestViewModel}()).prototype,"title",[mobx_esm.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),useViewModel_stories_applyDecoratedDescriptor(useViewModel_stories_class.prototype,"setTitle",[mobx_esm.f],Object.getOwnPropertyDescriptor(useViewModel_stories_class.prototype,"setTitle"),useViewModel_stories_class.prototype),useViewModel_stories_class),SimplestExample=Object(mobxreact_esm.a)((function(){var viewModel=Object(useViewModel.a)(useViewModel_stories_SimplestViewModel);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("input",{type:"text",value:viewModel.title,onChange:function onChange(e){return viewModel.setTitle(e.target.value)},placeholder:"Type title..."}),Object(jsx_runtime.jsxs)("p",{children:["Title: ",viewModel.title]})]})})),useViewModel_stories_Simplest=function Simplest(){return Object(jsx_runtime.jsx)(SimplestExample,{})};useViewModel_stories_Simplest.displayName="Simplest",useViewModel_stories_Simplest.parameters={controls:{expanded:!0},docs:{page:null,source:{code:'\nclass SimplestViewModel {\n  @observable\n  title: string = \'\';\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  @action\n  setTitle(title: string) {\n    this.title = title;\n  }\n}\n\nconst SimplestExample = observer(() => {\n  const viewModel = useViewModel(SimplestViewModel);\n\n  return (\n    <div>\n      <input\n        type="text"\n        value={viewModel.title}\n        onChange={e => viewModel.setTitle(e.target.value)}\n        placeholder="Type title..."\n      />\n      <p>Title: {viewModel.title}</p>\n    </div>\n  );\n});\n      ',language:"jsx",type:"auto"}}};var useViewModel_stories_DisposableViewModel=(_descriptor2=useViewModel_stories_applyDecoratedDescriptor((_class3=function(){function DisposableViewModel(){useViewModel_stories_classCallCheck(this,DisposableViewModel),useViewModel_stories_initializerDefineProperty(this,"title",_descriptor2,this),Object(mobx_esm.o)(this)}return useViewModel_stories_createClass(DisposableViewModel,[{key:"init",value:function init(){console.log("DisposableViewModel: do something on view mount")}},{key:"setTitle",value:function setTitle(title){this.title=title}},{key:"dispose",value:function dispose(){console.log("DisposableViewModel: do something after view destroy")}}]),DisposableViewModel}()).prototype,"title",[mobx_esm.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),useViewModel_stories_applyDecoratedDescriptor(_class3.prototype,"setTitle",[mobx_esm.f],Object.getOwnPropertyDescriptor(_class3.prototype,"setTitle"),_class3.prototype),_class3),WithLifecycleMethods=LifecycleToggleHOC(Object(mobxreact_esm.a)((function(){var viewModel=Object(useViewModel.a)(useViewModel_stories_DisposableViewModel);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("input",{value:viewModel.title,onChange:function onChange(e){return viewModel.setTitle(e.target.value)},placeholder:"Type title..."}),Object(jsx_runtime.jsxs)("p",{children:["Title: ",viewModel.title]})]})})));WithLifecycleMethods.parameters={docs:{source:{code:"\nclass DisposableViewModel implements IViewModel {\n  @observable\n  title: string = '';\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  init() {\n    console.log('DisposableViewModel: do something on view mount');\n  }\n\n  @action\n  setTitle(title: string) {\n    this.title = title;\n  }\n\n  dispose() {\n    console.log('DisposableViewModel: do something after view destroy');\n  }\n}\n\nconst WithLifecycleMethodsExample = observer(() => {\n  const viewModel = useViewModel(DisposableViewModel);\n\n  return (\n    <>\n      <input\n        value={viewModel.title}\n        onChange={e => viewModel.setTitle(e.target.value)}\n        placeholder=\"Type title...\"\n      />\n      <p>Title: {viewModel.title}</p>\n    </>\n  );\n});\n      ",language:"jsx",type:"auto"}}};var ExtendsBaseViewModel=(_class5=function(_ViewModel){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ExtendsBaseViewModel,_ViewModel);var _super=_createSuper(ExtendsBaseViewModel);function ExtendsBaseViewModel(props){var _this;return useViewModel_stories_classCallCheck(this,ExtendsBaseViewModel),(_this=_super.call(this,props)).disposers.push((function(){console.log("ExtendsBaseViewModel disposer 1")}),(function(){console.log("ExtendsBaseViewModel disposer 2")})),_this}return useViewModel_stories_createClass(ExtendsBaseViewModel,[{key:"init",value:function init(){console.log("ExtendsBaseViewModel: init")}},{key:"name",get:function get(){return this.props.firstName?this.props.firstName[0]+". "+this.props.lastName:this.props.lastName}}]),ExtendsBaseViewModel}(viewModel_ViewModel),useViewModel_stories_applyDecoratedDescriptor(_class5.prototype,"name",[mobx_esm.h],Object.getOwnPropertyDescriptor(_class5.prototype,"name"),_class5.prototype),_class5),WithBaseViewModelExtends=LifecycleToggleHOC(Object(mobxreact_esm.a)((function(props){var viewModel=Object(useViewModel.a)(ExtendsBaseViewModel,props);return Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsxs)("p",{children:["Hello, ",viewModel.name,"!"]})})})));WithBaseViewModelExtends.args={firstName:"John",lastName:"Gold"},WithBaseViewModelExtends.parameters={docs:{source:{code:"\ninterface ExtendsBaseViewModelProps {\n  firstName: string;\n  lastName: string;\n}\nclass ExtendsBaseViewModel extends ViewModel<ExtendsBaseViewModelProps> {\n  constructor(props: ExtendsBaseViewModelProps) {\n    super(props);\n\n    this.disposers.push(\n      () => {\n        console.log('ExtendsBaseViewModel disposer 1');\n      },\n      () => {\n        console.log('ExtendsBaseViewModel disposer 2');\n      }\n    );\n  }\n\n  init() {\n    console.log('ExtendsBaseViewModel: init');\n  }\n\n  @computed\n  get name() {\n    if (this.props.firstName) {\n      return `${this.props.firstName[0]}. ${this.props.lastName}`;\n    } else {\n      return this.props.lastName;\n    }\n  }\n}\n\nconst ExtendsBaseViewModelExampleComponent = observer(\n  (props: ExtendsBaseViewModelProps) => {\n    const viewModel = useViewModel(ExtendsBaseViewModel, props);\n\n    return (\n      <div>\n        <p>Hello, {viewModel.name}!</p>\n      </div>\n    );\n  }\n);\n      ",language:"jsx",type:"auto"}}};var useViewModel_stories_AdvancedViewModel=(useViewModel_stories_dec=mobx_esm.p.ref,_descriptor3=useViewModel_stories_applyDecoratedDescriptor((_class6=function(){function AdvancedViewModel(props){var _this2=this;useViewModel_stories_classCallCheck(this,AdvancedViewModel),useViewModel_stories_initializerDefineProperty(this,"props",_descriptor3,this),useViewModel_stories_initializerDefineProperty(this,"productPrice",_descriptor4,this),useViewModel_stories_initializerDefineProperty(this,"deliveryPrice",_descriptor5,this),this.disposers=[],this.props=props,Object(mobx_esm.o)(this),this.disposers.push(Object(mobx_esm.q)((function(){return _this2.totalPrice}),(function(totalPrice){return console.log("totalPriceChanged: "+totalPrice)})))}return useViewModel_stories_createClass(AdvancedViewModel,[{key:"productName",get:function get(){return this.props.productName}},{key:"deliveryMethod",get:function get(){return this.props.deliveryMethod}},{key:"totalPrice",get:function get(){return"delivery"===this.deliveryMethod?this.productPrice+this.deliveryPrice:this.productPrice}},{key:"setProductPrice",value:function setProductPrice(value){this.productPrice=value}},{key:"setdDeliveryPrice",value:function setdDeliveryPrice(value){this.deliveryPrice=value}},{key:"dispose",value:function dispose(){console.log("AdvancedViewModel: dispose"),this.disposers.forEach((function(disposer){return disposer()}))}}]),AdvancedViewModel}()).prototype,"props",[useViewModel_stories_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor4=useViewModel_stories_applyDecoratedDescriptor(_class6.prototype,"productPrice",[mobx_esm.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1e4}}),_descriptor5=useViewModel_stories_applyDecoratedDescriptor(_class6.prototype,"deliveryPrice",[mobx_esm.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 300}}),useViewModel_stories_applyDecoratedDescriptor(_class6.prototype,"productName",[mobx_esm.h],Object.getOwnPropertyDescriptor(_class6.prototype,"productName"),_class6.prototype),useViewModel_stories_applyDecoratedDescriptor(_class6.prototype,"deliveryMethod",[mobx_esm.h],Object.getOwnPropertyDescriptor(_class6.prototype,"deliveryMethod"),_class6.prototype),useViewModel_stories_applyDecoratedDescriptor(_class6.prototype,"totalPrice",[mobx_esm.h],Object.getOwnPropertyDescriptor(_class6.prototype,"totalPrice"),_class6.prototype),useViewModel_stories_applyDecoratedDescriptor(_class6.prototype,"setProductPrice",[mobx_esm.f],Object.getOwnPropertyDescriptor(_class6.prototype,"setProductPrice"),_class6.prototype),useViewModel_stories_applyDecoratedDescriptor(_class6.prototype,"setdDeliveryPrice",[mobx_esm.f],Object.getOwnPropertyDescriptor(_class6.prototype,"setdDeliveryPrice"),_class6.prototype),_class6),ReactivePropsExampleComponent=Object(mobxreact_esm.a)((function(props){var viewModel=Object(useViewModel.a)(useViewModel_stories_AdvancedViewModel,props);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("p",{children:["Name: ",props.productName]}),Object(jsx_runtime.jsxs)("p",{children:["Price:",Object(jsx_runtime.jsx)("input",{type:"number",value:viewModel.productPrice,onChange:function onChange(e){return viewModel.setProductPrice(Number(e.target.value))}})]}),"delivery"===viewModel.deliveryMethod?Object(jsx_runtime.jsxs)("p",{children:["Delivery Price:",Object(jsx_runtime.jsx)("input",{type:"number",value:viewModel.deliveryPrice,onChange:function onChange(e){return viewModel.setdDeliveryPrice(Number(e.target.value))}})]}):null,Object(jsx_runtime.jsxs)("p",{children:["Total Price: ",viewModel.totalPrice]})]})})),useViewModel_stories_WithReactiveProps=function WithReactiveProps(){var _useState4=_slicedToArray(Object(react.useState)("pickup"),2),deliveryMethod=_useState4[0],setDeliveryMethod=_useState4[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("p",{children:["Delivery Method:",Object(jsx_runtime.jsxs)("label",{htmlFor:"pickup",children:[Object(jsx_runtime.jsx)("input",{name:"delivery_method",id:"pickup",type:"radio",value:"pickup",checked:"pickup"===deliveryMethod,onChange:function onChange(){return setDeliveryMethod("pickup")}})," ","Pickup"]}),Object(jsx_runtime.jsxs)("label",{htmlFor:"delivery",children:[Object(jsx_runtime.jsx)("input",{id:"delivery",name:"delivery_method",type:"radio",value:"delivery",checked:"delivery"===deliveryMethod,onChange:function onChange(){return setDeliveryMethod("delivery")}}),"Delivery"]})]}),Object(jsx_runtime.jsx)(ReactivePropsExampleComponent,{productName:"MacBook Pro",deliveryMethod:deliveryMethod})]})};useViewModel_stories_WithReactiveProps.parameters={docs:{source:{code:'\ntype DeliveryMethod = \'pickup\' | \'delivery\';\n\ninterface ExampleComponentProps {\n  productName: string;\n  deliveryMethod: DeliveryMethod;\n}\n\nclass AdvancedViewModel implements IViewModel<ExampleComponentProps> {\n  @observable.ref\n  props: ExampleComponentProps;\n\n  @observable\n  productPrice: number = 10000;\n\n  @observable\n  deliveryPrice: number = 300;\n\n  private disposers: (() => void)[] = [];\n\n  constructor(props: ExampleComponentProps) {\n    this.props = props;\n    makeObservable(this);\n\n    this.disposers.push(\n      reaction(\n        () => this.totalPrice,\n        totalPrice => console.log(`totalPriceChanged: ${totalPrice}`)\n      )\n    );\n  }\n\n  @computed\n  get productName() {\n    return this.props.productName;\n  }\n\n  @computed\n  get deliveryMethod() {\n    return this.props.deliveryMethod;\n  }\n\n  @computed\n  get totalPrice() {\n    return this.deliveryMethod === \'delivery\'\n      ? this.productPrice + this.deliveryPrice\n      : this.productPrice;\n  }\n\n  @action\n  setProductPrice(value: number) {\n    this.productPrice = value;\n  }\n\n  @action\n  setdDeliveryPrice(value: number) {\n    this.deliveryPrice = value;\n  }\n\n  dispose() {\n    console.log(\'AdvancedViewModel: dispose\');\n    this.disposers.forEach(disposer => disposer());\n  }\n}\n\nconst ReactivePropsExampleComponent = observer(\n  (props: ExampleComponentProps) => {\n    const viewModel = useViewModel(AdvancedViewModel, props);\n\n    return (\n      <div>\n        <p>Name: {props.productName}</p>\n        <p>\n          Price:\n          <input\n            type="number"\n            value={viewModel.productPrice}\n            onChange={e => viewModel.setProductPrice(Number(e.target.value))}\n          />\n        </p>\n\n        {viewModel.deliveryMethod === \'delivery\' ? (\n          <p>\n            Delivery Price:\n            <input\n              type="number"\n              value={viewModel.deliveryPrice}\n              onChange={e =>\n                viewModel.setdDeliveryPrice(Number(e.target.value))\n              }\n            />\n          </p>\n        ) : null}\n\n        <p>Total Price: {viewModel.totalPrice}</p>\n      </div>\n    );\n  }\n);\n\nexport const WithReactiveProps = () => {\n  const [deliveryMethod, setDeliveryMethod] = useState<DeliveryMethod>(\n    \'pickup\'\n  );\n\n  return (\n    <>\n      <p>\n        Delivery Method:\n        <label htmlFor="pickup">\n          <input\n            name="delivery_method"\n            id="pickup"\n            type="radio"\n            value="pickup"\n            checked={deliveryMethod === \'pickup\'}\n            onChange={() => setDeliveryMethod(\'pickup\')}\n          />{\' \'}\n          Pickup\n        </label>\n        <label htmlFor="delivery">\n          <input\n            id="delivery"\n            name="delivery_method"\n            type="radio"\n            value="delivery"\n            checked={deliveryMethod === \'delivery\'}\n            onChange={() => setDeliveryMethod(\'delivery\')}\n          />\n          Delivery\n        </label>\n      </p>\n\n      <ReactivePropsExampleComponent\n        productName="MacBook Pro"\n        deliveryMethod={deliveryMethod}\n      />\n    </>\n  );\n};\n      ',language:"jsx",type:"auto"}}},useViewModel_stories_Simplest.parameters=Object.assign({storySource:{source:"() => {\n  return <SimplestExample />;\n}"}},useViewModel_stories_Simplest.parameters),WithLifecycleMethods.parameters=Object.assign({storySource:{source:"LifecycleToggleHOC(\n  WithLifecycleMethodsExample\n)"}},WithLifecycleMethods.parameters),WithBaseViewModelExtends.parameters=Object.assign({storySource:{source:"LifecycleToggleHOC(\n  ExtendsBaseViewModelExampleComponent\n)"}},WithBaseViewModelExtends.parameters),useViewModel_stories_WithReactiveProps.parameters=Object.assign({storySource:{source:'() => {\n  const [deliveryMethod, setDeliveryMethod] = useState<DeliveryMethod>(\n    \'pickup\'\n  );\n\n  return (\n    <>\n      <p>\n        Delivery Method:\n        <label htmlFor="pickup">\n          <input\n            name="delivery_method"\n            id="pickup"\n            type="radio"\n            value="pickup"\n            checked={deliveryMethod === \'pickup\'}\n            onChange={() => setDeliveryMethod(\'pickup\')}\n          />{\' \'}\n          Pickup\n        </label>\n        <label htmlFor="delivery">\n          <input\n            id="delivery"\n            name="delivery_method"\n            type="radio"\n            value="delivery"\n            checked={deliveryMethod === \'delivery\'}\n            onChange={() => setDeliveryMethod(\'delivery\')}\n          />\n          Delivery\n        </label>\n      </p>\n\n      <ReactivePropsExampleComponent\n        productName="MacBook Pro"\n        deliveryMethod={deliveryMethod}\n      />\n    </>\n  );\n}'}},useViewModel_stories_WithReactiveProps.parameters);try{WithLifecycleMethods.displayName="WithLifecycleMethods",WithLifecycleMethods.__docgenInfo={description:"",displayName:"WithLifecycleMethods",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/useViewModel.stories.tsx#WithLifecycleMethods"]={docgenInfo:WithLifecycleMethods.__docgenInfo,name:"WithLifecycleMethods",path:"stories/useViewModel.stories.tsx#WithLifecycleMethods"})}catch(__react_docgen_typescript_loader_error){}try{WithBaseViewModelExtends.displayName="WithBaseViewModelExtends",WithBaseViewModelExtends.__docgenInfo={description:"",displayName:"WithBaseViewModelExtends",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/useViewModel.stories.tsx#WithBaseViewModelExtends"]={docgenInfo:WithBaseViewModelExtends.__docgenInfo,name:"WithBaseViewModelExtends",path:"stories/useViewModel.stories.tsx#WithBaseViewModelExtends"})}catch(__react_docgen_typescript_loader_error){}},"./stories/useViewModelFactory.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithDependencyInjection",(function(){return WithDependencyInjection}));__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _dec,_class,_descriptor,mobx__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/mobx/dist/mobx.esm.js"),mobx_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/mobx-react/dist/mobxreact.esm.js"),_src_useViewModel__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/useViewModel.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}__webpack_exports__.default={title:"useViewModelFactory",parameters:{storySource:{source:"import React from 'react';\nimport { computed, makeObservable, observable } from 'mobx';\nimport { observer } from 'mobx-react';\n\nimport { useViewModelFactory } from '../src/useViewModel';\n\nexport default {\n  title: 'useViewModelFactory',\n  parameters: {\n    docs: {\n      description: {\n        component: `Advanced hook for creating stateful view-model instance manualy. You can pass custom arguments to the view-model constructor.\n          It might be useful for Dependency Injection.`,\n      },\n    },\n  },\n};\n\n/// ------------------------------------------\n// Example of view-модели with Dependency Injection\n//\ntype User = {\n  id: string;\n  name: string;\n};\nclass UsersStore {\n  private users: Record<string, User> = {\n    'user-1-id': {\n      id: 'user-1-id',\n      name: 'user-1-name',\n    },\n  };\n\n  getUser(id: string): User | undefined {\n    return this.users[id];\n  }\n}\nconst userStore = new UsersStore();\n\ninterface AdvancedDIViewModelProps {\n  userId: string;\n}\nclass AdvancedDIViewModel {\n  @observable.ref\n  props: AdvancedDIViewModelProps;\n\n  private usersStore: UsersStore;\n\n  constructor(props: AdvancedDIViewModelProps, usersStore: UsersStore) {\n    makeObservable(this);\n    this.props = props;\n    this.usersStore = usersStore;\n  }\n\n  @computed\n  get user() {\n    return this.usersStore.getUser(this.props.userId);\n  }\n}\n\nconst AdvancedDIExample = observer(function AdvancedDIExample$() {\n  // Pass userStore to view-model via factory-hook\n  const viewModel = useViewModelFactory(\n    props => new AdvancedDIViewModel(props, userStore),\n    { userId: 'user-1-id' }\n  );\n\n  return (\n    <div>\n      <p>User from UsersStore: </p>\n      <pre>{viewModel.user ? JSON.stringify(viewModel.user) : '-'}</pre>\n    </div>\n  );\n});\n\nexport const WithDependencyInjection = () => {\n  return <AdvancedDIExample />;\n};\nWithDependencyInjection.parameters = {\n  controls: { expanded: true },\n  docs: {\n    source: {\n      code: `\ntype User = {\n  id: string;\n  name: string;\n};\nclass UsersStore {\n  private users: Record<string, User> = {\n    'user-1-id': {\n      id: 'user-1-id',\n      name: 'user-1-name',\n    },\n  };\n\n  getUser(id: string): User | undefined {\n    return this.users[id];\n  }\n}\nconst userStore = new UsersStore();\n\ninterface AdvancedDIViewModelProps {\n  userId: string;\n}\nclass AdvancedDIViewModel {\n  @observable.ref\n  props: AdvancedDIViewModelProps;\n\n  private usersStore: UsersStore;\n\n  constructor(props: AdvancedDIViewModelProps, usersStore: UsersStore) {\n    makeObservable(this);\n    this.props = props;\n    this.usersStore = usersStore;\n  }\n\n  @computed\n  get user() {\n    return this.usersStore.getUser(this.props.userId);\n  }\n}\n\nconst AdvancedDIExample = observer(function AdvancedDIExample$() {\n  // Pass userStore to view-model via factory-hook\n  const viewModel = useViewModelFactory(\n    props => new AdvancedDIViewModel(props, userStore),\n    { userId: 'user-1-id' }\n  );\n\n  return (\n    <div>\n      <p>User from UsersStore: </p>\n      <pre>{viewModel.user ? JSON.stringify(viewModel.user) : '-'}</pre>\n    </div>\n  );\n});\n      `,\n      language: 'jsx',\n      type: 'auto',\n    },\n  },\n};\n",locationsMap:{"with-dependency-injection":{startLoc:{col:39,line:76},endLoc:{col:1,line:78},startBody:{col:39,line:76},endBody:{col:1,line:78}}}},docs:{description:{component:"Advanced hook for creating stateful view-model instance manualy. You can pass custom arguments to the view-model constructor.\n          It might be useful for Dependency Injection."}}}};var userStore=new(function(){function UsersStore(){_classCallCheck(this,UsersStore),this.users={"user-1-id":{id:"user-1-id",name:"user-1-name"}}}return _createClass(UsersStore,[{key:"getUser",value:function getUser(id){return this.users[id]}}]),UsersStore}()),AdvancedDIViewModel=(_dec=mobx__WEBPACK_IMPORTED_MODULE_16__.p.ref,_class=function(){function AdvancedDIViewModel(props,usersStore){_classCallCheck(this,AdvancedDIViewModel),function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}(this,"props",_descriptor,this),this.usersStore=void 0,Object(mobx__WEBPACK_IMPORTED_MODULE_16__.o)(this),this.props=props,this.usersStore=usersStore}return _createClass(AdvancedDIViewModel,[{key:"user",get:function get(){return this.usersStore.getUser(this.props.userId)}}]),AdvancedDIViewModel}(),_descriptor=_applyDecoratedDescriptor(_class.prototype,"props",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class.prototype,"user",[mobx__WEBPACK_IMPORTED_MODULE_16__.h],Object.getOwnPropertyDescriptor(_class.prototype,"user"),_class.prototype),_class),AdvancedDIExample=Object(mobx_react__WEBPACK_IMPORTED_MODULE_17__.a)((function AdvancedDIExample$(){var viewModel=Object(_src_useViewModel__WEBPACK_IMPORTED_MODULE_18__.b)((function(props){return new AdvancedDIViewModel(props,userStore)}),{userId:"user-1-id"});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("p",{children:"User from UsersStore: "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("pre",{children:viewModel.user?JSON.stringify(viewModel.user):"-"})]})})),WithDependencyInjection=function WithDependencyInjection(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(AdvancedDIExample,{})};WithDependencyInjection.displayName="WithDependencyInjection",WithDependencyInjection.parameters={controls:{expanded:!0},docs:{source:{code:"\ntype User = {\n  id: string;\n  name: string;\n};\nclass UsersStore {\n  private users: Record<string, User> = {\n    'user-1-id': {\n      id: 'user-1-id',\n      name: 'user-1-name',\n    },\n  };\n\n  getUser(id: string): User | undefined {\n    return this.users[id];\n  }\n}\nconst userStore = new UsersStore();\n\ninterface AdvancedDIViewModelProps {\n  userId: string;\n}\nclass AdvancedDIViewModel {\n  @observable.ref\n  props: AdvancedDIViewModelProps;\n\n  private usersStore: UsersStore;\n\n  constructor(props: AdvancedDIViewModelProps, usersStore: UsersStore) {\n    makeObservable(this);\n    this.props = props;\n    this.usersStore = usersStore;\n  }\n\n  @computed\n  get user() {\n    return this.usersStore.getUser(this.props.userId);\n  }\n}\n\nconst AdvancedDIExample = observer(function AdvancedDIExample$() {\n  // Pass userStore to view-model via factory-hook\n  const viewModel = useViewModelFactory(\n    props => new AdvancedDIViewModel(props, userStore),\n    { userId: 'user-1-id' }\n  );\n\n  return (\n    <div>\n      <p>User from UsersStore: </p>\n      <pre>{viewModel.user ? JSON.stringify(viewModel.user) : '-'}</pre>\n    </div>\n  );\n});\n      ",language:"jsx",type:"auto"}}},WithDependencyInjection.parameters=Object.assign({storySource:{source:"() => {\n  return <AdvancedDIExample />;\n}"}},WithDependencyInjection.parameters)},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);